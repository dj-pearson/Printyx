// Apollo.io API Field Mappings for Printyx Integration

const APOLLO_FIELD_MAPPINGS = {
  // People/Contacts Data from Apollo
  'people': {
    table_name: 'apollo_contacts',
    primary_key: 'id',
    fields: {
      'id': 'external_contact_id',
      'first_name': 'first_name',
      'last_name': 'last_name',
      'name': 'full_name',
      'linkedin_url': 'linkedin_url',
      'title': 'job_title',
      'email': 'email',
      'email_status': 'email_status', // verified, unverified, bounced
      'phone': 'phone',
      'sanitized_phone': 'sanitized_phone',
      'organization_id': 'external_company_id',
      'organization_name': 'company_name',
      'website_url': 'company_website',
      'blog_url': 'blog_url',
      'angellist_url': 'angellist_url',
      'twitter_url': 'twitter_url',
      'facebook_url': 'facebook_url',
      'primary_phone': 'primary_phone',
      'sanitized_primary_phone': 'sanitized_primary_phone',
      'home_phone': 'home_phone',
      'sanitized_home_phone': 'sanitized_home_phone',
      'mobile_phone': 'mobile_phone',
      'sanitized_mobile_phone': 'sanitized_mobile_phone',
      'corporate_phone': 'corporate_phone',
      'sanitized_corporate_phone': 'sanitized_corporate_phone',
      'other_phone': 'other_phone',
      'sanitized_other_phone': 'sanitized_other_phone',
      'personal_email1': 'personal_email_1',
      'personal_email2': 'personal_email_2',
      'corporate_email1': 'corporate_email_1',
      'corporate_email2': 'corporate_email_2',
      'departments': 'departments_json',
      'subdepartments': 'subdepartments_json',
      'functions': 'job_functions_json',
      'seniority': 'seniority_level',
      'employment_history': 'employment_history_json',
      'city': 'city',
      'state': 'state',
      'country': 'country',
      'headline': 'headline',
      'photo_url': 'photo_url',
      'time_zone': 'time_zone',
      'local_time': 'local_time',
      'crunchbase_url': 'crunchbase_url',
      'account_id': 'apollo_account_id',
      'account_phone': 'account_phone',
      'account_owner_id': 'account_owner_id',
      'person_score': 'person_score',
      'show_intent': 'show_intent_data',
      'intent_strength': 'intent_strength',
      'typed_custom_fields': 'custom_fields_json',
      'created_at': 'created_date',
      'updated_at': 'last_updated_date'
    }
  },

  // Organizations/Companies Data from Apollo
  'organizations': {
    table_name: 'apollo_companies',
    primary_key: 'id',
    fields: {
      'id': 'external_company_id',
      'name': 'company_name',
      'website_url': 'website',
      'blog_url': 'blog_url',
      'angellist_url': 'angellist_url',
      'linkedin_url': 'linkedin_url',
      'twitter_url': 'twitter_url',
      'facebook_url': 'facebook_url',
      'languages': 'languages_json',
      'alexa_ranking': 'alexa_ranking',
      'phone': 'main_phone',
      'linkedin_uid': 'linkedin_uid',
      'publicly_traded_symbol': 'stock_ticker',
      'publicly_traded_exchange': 'stock_exchange',
      'logo_url': 'logo_url',
      'crunchbase_url': 'crunchbase_url',
      'primary_domain': 'primary_domain',
      'sanitized_phone': 'sanitized_phone',
      'industry': 'industry',
      'keywords': 'keywords_json',
      'estimated_num_employees': 'estimated_employees',
      'snippets_loaded': 'snippets_loaded',
      'industry_tag_id': 'industry_tag_id',
      'retail_location_count': 'retail_location_count',
      'raw_address': 'raw_address',
      'street_address': 'street_address',
      'city': 'city',
      'state': 'state',
      'postal_code': 'postal_code',
      'country': 'country',
      'owned_by_organization_id': 'parent_company_id',
      'suborganizations': 'subsidiaries_json',
      'num_suborganizations': 'num_subsidiaries',
      'seo_description': 'seo_description',
      'short_description': 'short_description',
      'annual_revenue': 'annual_revenue',
      'total_funding': 'total_funding',
      'latest_funding_round_date': 'latest_funding_date',
      'latest_funding_stage': 'latest_funding_stage',
      'funding_events': 'funding_events_json',
      'technology_names': 'technologies_json',
      'current_technologies': 'current_technologies_json',
      'account_id': 'apollo_account_id',
      'account_owner_id': 'account_owner_id',
      'organization_num_employees_ranges': 'employee_ranges_json',
      'organization_raw_num_employees': 'raw_employee_count',
      'organization_latest_funding_stage': 'latest_funding_stage',
      'organization_latest_funding_round_date': 'latest_funding_round_date',
      'organization_total_funding': 'total_funding_amount',
      'typed_custom_fields': 'custom_fields_json',
      'modality': 'business_model',
      'persona_counts': 'persona_counts_json',
      'market_cap': 'market_cap',
      'phone_status': 'phone_verification_status',
      'test_mode': 'is_test_mode',
      'organization_id': 'organization_id',
      'created_at': 'created_date',
      'updated_at': 'last_updated_date'
    }
  },

  // Opportunities/Deals from Apollo
  'opportunities': {
    table_name: 'apollo_opportunities',
    primary_key: 'id',
    fields: {
      'id': 'external_opportunity_id',
      'name': 'opportunity_name',
      'amount': 'opportunity_amount',
      'owner_id': 'owner_user_id',
      'account_id': 'apollo_account_id',
      'team_id': 'team_id',
      'stage_id': 'stage_id',
      'stage_name': 'stage_name',
      'closed_date': 'expected_close_date',
      'opportunity_stage_id': 'opportunity_stage_id',
      'closed_time': 'actual_close_date',
      'num_contacts': 'contact_count',
      'organization_name': 'company_name',
      'organization_id': 'external_company_id',
      'person_id': 'external_contact_id',
      'person_name': 'primary_contact_name',
      'created_at': 'created_date',
      'updated_at': 'last_updated_date'
    }
  },

  // Email Accounts from Apollo
  'emailer_campaigns': {
    table_name: 'apollo_email_campaigns',
    primary_key: 'id',
    fields: {
      'id': 'external_campaign_id',
      'name': 'campaign_name',
      'user_id': 'owner_user_id',
      'from_email': 'from_email',
      'reply_to_email': 'reply_to_email',
      'track_settings': 'tracking_settings_json',
      'label_ids': 'label_ids_json',
      'num_steps': 'step_count',
      'active': 'is_active',
      'archived': 'is_archived',
      'unique_scheduled': 'unique_scheduled_count',
      'unique_delivered': 'unique_delivered_count',
      'unique_bounced': 'unique_bounced_count',
      'unique_opened': 'unique_opened_count',
      'unique_replied': 'unique_replied_count',
      'unique_demoed': 'unique_demoed_count',
      'unique_clicked': 'unique_clicked_count',
      'unique_unsubscribed': 'unique_unsubscribed_count',
      'bounce_rate': 'bounce_rate_percent',
      'open_rate': 'open_rate_percent',
      'click_rate': 'click_rate_percent',
      'reply_rate': 'reply_rate_percent',
      'spam_blocked_rate': 'spam_blocked_rate_percent',
      'opt_out_rate': 'opt_out_rate_percent',
      'demo_rate': 'demo_rate_percent',
      'created_at': 'created_date',
      'updated_at': 'last_updated_date'
    }
  },

  // Contacts in Sequences
  'emailer_touches': {
    table_name: 'apollo_sequence_contacts',
    primary_key: 'id',
    fields: {
      'id': 'external_touch_id',
      'emailer_campaign_id': 'external_campaign_id',
      'person_id': 'external_contact_id',
      'user_id': 'user_id',
      'contact_id': 'contact_id',
      'send_email_from_email_account_id': 'email_account_id',
      'person_name': 'contact_name',
      'person_email': 'contact_email',
      'organization_name': 'company_name',
      'last_used_at': 'last_contact_date',
      'currently_in_sequence': 'is_active_in_sequence',
      'current_step': 'current_step_number',
      'num_steps': 'total_steps',
      'sequence_started_at': 'sequence_start_date',
      'sequence_finished_at': 'sequence_end_date',
      'last